
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Kaira - Bootstrap 5 Fashion Store HTML CSS Template</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="TemplatesJungle">
  <meta name="keywords" content="ecommerce,fashion,store">
  <meta name="description" content="Bootstrap 5 Fashion Store HTML CSS Template">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/css/vendor.css">
  <link rel="stylesheet" href="/https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  <link rel="stylesheet" type="text/css" href="/style.css">

  <link rel="preconnect" href="/https://fonts.googleapis.com">
  <link rel="preconnect" href="/https://fonts.gstatic.com" crossorigin>
  <link href="/https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <link
    href="/https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Marcellus&display=swap"
    rel="stylesheet">
    <link rel="stylesheet" href="/https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

    <style>
      div.swiper-wrapper {
  height: 80%;
}

.main-image-container {
    overflow: hidden;
    position: relative;
    width: 100%;
    height: auto;
}


.book-image {
    width: 100%;
    transition: transform 0.3s ease-in-out;
}

.book-image.zoomed {
    transform: scale(2); /* Adjust zoom level */
    cursor: zoom-in;
}


.thumbnail img {
    width: 50px; /* Adjust size */
    height: auto;
    cursor: pointer;
    transition: opacity 0.3s;
}

.thumbnail img:hover,
.active-thumbnail {
    opacity: 0.6;
    border: 2px solid #007bff; 
}

  </style>
</head>

<%-include("../../views/partials/user/header")%>

  <div class="container mt-4">
    <!-- Breadcrumbs -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a href="/shop">Books</a></li>
           
        </ol>
    </nav>

    <div class="row">
        
       <!-- Book Image Section -->
    <div class="col-md-3">
      <div class="main-image-container">
          <img src="/<%= data.book_images[0] %>" 
               alt="<%= data.title %>" 
               class="img-fluid book-image" 
               id="bookImage">
      </div>

      <!-- Thumbnail Grid -->
      <div class="thumbnail-grid mt-2 d-flex">
          <% for(let i = 0; i < data.book_images.length; i++) { %>
              <div class="thumbnail me-2">
                  <img src="/<%= data.book_images[i] %>" 
                       alt="Thumbnail" 
                       class="img-thumbnail" 
                       onclick="changeImage(this.src, this)">
              </div>
          <% } %>
      </div>
  </div>

        <!-- Book Details Section -->
        <div class="col-md-5">
            <h5><%= data.title %></h5>
            <p class="text-muted">By <strong><%= data.author %></strong></p>

            <!-- Stock Status -->
            <% if (data.stock > 0) { %>
                <p class="text-success"><strong>In Stock</strong></p>
                
            <% } else if (data.status === "unavailable") { %>
                <p class="text-danger"><strong>Currently Unavailable</strong></p>
            <% } else { %>
                <p class="text-warning"><strong>Sold Out</strong></p>
            <% } %>

            <!-- Highlights / Specs -->
            <div class="mt-3">
                
                <ul>
                    <li>Category: <%=categoryNames %></li>
                    <li>Language: <%= data.language %></li>
                    <li>ISBN: <%= data.isbn %></li>
                    <li>Price: <strong><%= data.price %></strong></li>
                    <li>Pages: <%= data.number_of_pages %></li>
                    <li>Publisher: <%= data.publisher %></li>
                    <li>Edition: <%= data.edition %></li>
                    

                </ul>
            </div>
        </div>
        <div class="col-md-4">
          <div class="text-center mt-5">
            <button class="btn btn-outline-primary" >Add Cart</button>
        </div>
          <div class="text-center mt-5">
            <button class="btn btn-outline-primary" >Add Wishlist</button>
        </div>
          <div class="text-center mt-5">
            <button class="btn btn-outline-primary" >Buy Now</button>
        </div>
        </div>
    </div>

    <!-- Related Products Section -->
    <div class="mt-5">
        <h5>You may also like</h5>
        <div class="row">        
            <% if (relatedBooks && relatedBooks.length > 0) { %>
                <% relatedBooks.forEach(book => { %>
                    <div class="col-md-3">
                        <a href="/book/<%= book._id %>">
                            <img src="/<%= book.book_images[0] %>" class="img-fluid" alt="<%= book.title %>">
                            <p class="mt-1 mb-1"><%= book.title %></p>
                            <p class="mt-1 mb-1"><%= book.author %></p>
                            <p class="mt-1 mb-1"><%= book.price %></p>
                        </a>
                    </div>
                <% }); %>
            <% } else { %>
                <p>No related books available.</p>
            <% } %>
        </div>
    </div>
</div>


  <footer id="footer" class="mt-5">
    <div class="container">
      <div class="row d-flex flex-wrap justify-content-between py-5">
        <div class="col-md-4 col-sm-12">
          <div class="footer-menu footer-menu-001">
            <div class="footer-intro mb-4">
              <div class="col-auto">
                <a class="navbar-brand custom-brand" href="index.html">BookD.com</a>
                <h5>Your Destination for Digitized Book Discovery & Delivery</h5>
              </div>
            </div>
            
            <div class="social-links">
              <ul class="list-unstyled d-flex flex-wrap gap-3">
                <li>
                  <a href="#" class="text-secondary">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <use xlink:href="#facebook"></use>
                    </svg>
                  </a>
                </li>
                <li>
                  <a href="#" class="text-secondary">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <use xlink:href="#twitter"></use>
                    </svg>
                  </a>
                </li>
                <li>
                  <a href="#" class="text-secondary">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <use xlink:href="#youtube"></use>
                    </svg>
                  </a>
                </li>
                <li>
                  <a href="#" class="text-secondary">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <use xlink:href="#pinterest"></use>
                    </svg>
                  </a>
                </li>
                <li>
                  <a href="#" class="text-secondary">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <use xlink:href="#instagram"></use>
                    </svg>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-sm-12">
          <div class="footer-menu footer-menu-002">
            <h5 class="widget-title text-uppercase mb-4">Quick Links</h5>
            <ul class="menu-list list-unstyled text-uppercase border-animation-left fs-6">
              <li class="menu-item">
                <a href="index.html" class="item-anchor">Contact us</a>
              </li>
              <li class="menu-item">
                <a href="index.html" class="item-anchor">About us</a>
              </li>
              <li class="menu-item">
                <a href="blog.html" class="item-anchor">Terms & Conditions</a>
              </li>
              <li class="menu-item">
                <a href="styles.html" class="item-anchor">Return & Replacement</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-4 col-sm-12">
          <div class="footer-menu footer-menu-002">
            <h5 class="widget-title text-uppercase mb-4">About the shop</h5>
            <p>Discover. Dive In. Delight.  At BookD.com, we bring you bestsellers, timeless classics, and hidden gems.
               Whether you're seeking adventure, knowledge, or inspiration, your next great read awaits!   </p>
          </div>
        </div>
      </div>
    </div>
    <div class="border-top py-4">
      <div class="container">
        <div class="row">
          <div class="col-md-6 d-flex flex-wrap">
            <div class="shipping">
              <span>We ship with:</span>
              <img src="images/arct-icon.png" alt="icon">
              <img src="images/dhl-logo.png" alt="icon">
            </div>
            <div class="payment-option">
              <span>Payment Option:</span>
              <img src="images/visa-card.png" alt="card">
              <img src="images/paypal-card.png" alt="card">
              <img src="images/master-card.png" alt="card">
            </div>
          </div>
          <div class="col-md-6 text-end">
            <p>Â© Copyright 2022 Kaira. All rights reserved.</p>
          </div>
        </div>
      </div>
    </div>
  </footer>
  

  <script src="/js/jquery.min.js"></script>
  <script src="/js/plugins.js"></script>
  <script src="/js/SmoothScroll.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
 
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
    <script src="/js/script.min.js"></script>
 
  <script>
   document.addEventListener('DOMContentLoaded',function(){
    const clearBtn=document.getElementById('clear-search')
    const searchInput=document.getElementById('search-form')
    if(clearBtn&&searchInput){
      clearBtn.addEventListener('click',function(){
        searchInput.value="";
        window.location.href="/shop"
      })
    }
   })

   //image zooming
   const mainImage = document.getElementById('bookImage');
   const mainImageContainer = mainImage.parentElement;


mainImageContainer.addEventListener('mouseenter', () => {
    mainImage.classList.add('zoomed');
});

mainImageContainer.addEventListener('mouseleave', () => {
    mainImage.classList.remove('zoomed');
});


function changeImage(src, thumbnail) {
    mainImage.src = src; 

   
    document.querySelectorAll('.thumbnail img').forEach(thumb => {
        thumb.classList.remove('active-thumbnail');
    });

    
    thumbnail.classList.add('active-thumbnail');
}


mainImageContainer.addEventListener('mousemove', (e) => {
    if (mainImage.classList.contains('zoomed')) {
        const rect = mainImageContainer.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width;
        const y = (e.clientY - rect.top) / rect.height;

        mainImage.style.transformOrigin = `${x * 100}% ${y * 100}%`; 
    }
});

  </script>
</body>

</html>






